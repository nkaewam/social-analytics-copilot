sources:
  # BigQuery source for campaign data
  campaign-bigquery:
    kind: bigquery
    project: nkaewam-sandbox-personal   
    location: asia-southeast1
    allowedDatasets:
      - campaign_metrics

  # Postgres source for operational/transactional data
  campaign-postgres:
    kind: postgres
    host: localhost
    port: 5432
    database: campaign_db
    user: postgres
    password: postgres

tools:
  # BigQuery SQL execution tool
  bigquery-execute-sql:
    kind: bigquery-execute-sql
    source: campaign-bigquery
    description: "Execute SQL queries against BigQuery analytics data. Available tables: campaign_metrics_daily (historical performance metrics). Use for analytics, trends, and historical performance analysis. The tool accepts a 'sql' parameter (required) with the GoogleSQL statement to execute, and an optional 'dry_run' parameter."

  # Postgres SQL tool for operational data
  postgres-execute-sql:
    kind: postgres-sql
    source: campaign-postgres
    statement: "{{.sql}}"
    description: "Execute SQL queries against Postgres operational campaign data. Available tables: campaigns, creatives, campaign_status. Use for current status, configurations, and operational lookups."
    templateParameters:
      - name: sql
        type: string
        description: "The SQL statement to execute against Postgres. Use for operational queries like campaign status, creative approvals, current configurations."

  # BigQuery schema discovery - list tables
  bigquery-list-table-ids:
    kind: bigquery-list-table-ids
    source: campaign-bigquery
    description: "List all tables in BigQuery datasets. Use this to discover available tables before querying. Returns table names, dataset names, and basic metadata."

  # BigQuery schema discovery - get table info
  bigquery-get-table-info:
    kind: bigquery-get-table-info
    source: campaign-bigquery
    description: "Get detailed schema information for a BigQuery table including column names, data types, descriptions, and constraints. Use this to understand table structure before writing queries."

  # Postgres schema discovery - list tables
  postgres-list-tables:
    kind: postgres-list-tables
    source: campaign-postgres
    description: "List all tables in the Postgres database. Use this to discover available tables before querying. Returns table names and schema information."
  
